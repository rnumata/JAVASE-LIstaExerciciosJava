<!DOCTYPE html>
<html 
		xmlns="http://www.w3.org/1999/xhtml"
      	xmlns:ui="http://java.sun.com/jsf/facelets"
      	xmlns:f="http://java.sun.com/jsf/core"
      	xmlns:h="http://java.sun.com/jsf/html"
      	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/template/xhtml/template.xhtml">
	
		<ui:define name="tituloPagina">Cadastro Veiculo</ui:define>
	
		<ui:define name="tituloPrincipal">Cadastro de Veículo</ui:define>
		
		<ui:define name="tituloSecundario">Tela para cadastrar dados do veículo</ui:define>
		
		<ui:define name="botoesAcao">
			<p:commandButton value="Salvar" action="#{cadastroBean.salvarCadastro()}" update="@form"/>
		</ui:define>
		
		<ui:define name="conteudo">
				<h:panelGrid columns="3" style="margin-bottom: 20px">
		
					<ui:define name="mensagens"></ui:define>
				
					<p:outputLabel for="id_marca" value="Marca: "/>
					<p:selectOneMenu id="id_marca" value="#{cadastroBean.cadastro.marca}" converter="omnifaces.SelectItemsIndexConverter">
						<f:selectItem noSelectionOption="true" itemLabel="---Selecione---"/>
						<f:selectItems value="#{marcaBean.marcas}" var="m" itemLabel="#{m.nome}" itemValue="#{m}" />
					</p:selectOneMenu>
					<p:message for="id_marca"/>
					
					<p:outputLabel for="id_modelo" value="Modelo: " style="margin: 30px 0px"/>
					<p:inputText id="id_modelo" value="#{cadastroBean.cadastro.modelo}" />
					<p:message for="id_modelo"/>
						
					<p:outputLabel for="id_placa" value="Placa: "/>
					<p:inputMask id="id_placa" value="#{cadastroBean.cadastro.placa}" mask="aaa-9999"/>
					<p:message for="id_placa"/>
					
					<p:outputLabel for="id_cor" value="Cor: "/>
					<p:colorPicker id="id_cor" value="#{cadastroBean.cadastro.cor}"/>
					<p:message for="id_cor"/>	
					
					<p:outputLabel for="id_anoModelo" value="Ano Modelo: "/>
					<p:datePicker id="id_anoModelo" value="#{cadastroBean.cadastro.anomodelo}" />
					<p:message for="id_anoModelo"/>
					
					<p:outputLabel for="id_anoFabricacao" value="Ano Fabricação: "/>
					<p:datePicker id="id_anoFabricacao" value="#{cadastroBean.cadastro.anofabricacao}"/>
					<p:message for="id_anoFabricacao"/>	
					
					<p:outputLabel for="id_combustivel" value="Tipo Combustível: "/>
					<p:selectOneMenu id="id_combustivel" value="#{cadastroBean.cadastro.combustivel}" converter="omnifaces.SelectItemsIndexConverter">
						<f:selectItem itemLabel="---Selecione---" noSelectionOption="true"/>
						<f:selectItems value="#{combustivelBean.combustiveis}" var="c" itemLabel="#{c.tipoCombustivel}" itemValue="#{c}"/>
					</p:selectOneMenu>
					<br></br>
					
					<p:outputLabel for="id_fipe" value="FIPE (R$): "/>
					<p:inputNumber id="id_fipe" value="#{cadastroBean.cadastro.fipe}" decimalSeparator="," decimalPlaces="2" thousandSeparator="."/>
					<p:message for="id_fipe"/>
					
				</h:panelGrid>
			
				
				<p:dataTable id="tb_veiculos" var="v" value="#{cadastroBean.cadastros}" emptyMessage="Sem veiculos cadastrados" >
					<p:column headerText="Código">
						<h:outputText value="#{v.id}" />
					</p:column>
					<p:column headerText="Marca">
						<h:outputText value="#{v.marca.nome}" />
					</p:column>
					<p:column headerText="Modelo">
						<h:outputText value="#{v.modelo}" />
					</p:column>
					<p:column headerText="Placa">
						<h:outputText value="#{v.placa}" />
					</p:column>
					<p:column headerText="Cor">
						<h:outputText value="#{v.cor}" />
					</p:column>
					<p:column headerText="Ano Modelo">
						<h:outputText value="#{v.anomodelo}" />
					</p:column>
					<p:column headerText="Ano Fabricação">
						<h:outputText value="#{v.anofabricacao}" />
					</p:column>		
					<p:column headerText="Combustível">
						<h:outputText value="#{v.combustivel.tipoCombustivel}" />
					</p:column>		
					<p:column headerText="Fipe">
						<h:outputText value="#{v.fipe}" />
					</p:column>
				</p:dataTable>
		
		
		</ui:define>
	
	
	
	
	
	
	
	
	</ui:composition>
	
</html>